{{ 'component-rich-text.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign color_scheme = section.settings.color_scheme
  assign width = section.settings.content_width
-%}

<section
  class="section rich-text color-scheme-{{ color_scheme }}"
  data-section-id="{{ section.id }}"
  {% render 'util-section-spacing', padding_top: section.settings.padding_top, padding_bottom: section.settings.padding_bottom %}
>
  <div class="page-width">
    <div class="rich-text__inner rich-text__inner--{{ width }}" {% render 'util-animation', animation: 'fade-up' %}>
      {%- if section.settings.subtitle != blank -%}
        <p class="rich-text__subtitle">{{ section.settings.subtitle }}</p>
      {%- endif -%}
      {%- if section.settings.heading != blank -%}
        <h2 class="rich-text__heading">{{ section.settings.heading }}</h2>
      {%- endif -%}
      {%- if section.settings.text != blank -%}
        <div class="rich-text__text rte">{{ section.settings.text }}</div>
      {%- endif -%}
      {%- if section.settings.button_label != blank -%}
        <a href="{{ section.settings.button_link }}" class="btn btn--{{ section.settings.button_style }}">{{ section.settings.button_label }}</a>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Rich text",
  "class": "rich-text-section",
  "settings": [
    { "type": "text", "id": "subtitle", "label": "Subtitle" },
    { "type": "text", "id": "heading", "label": "Heading" },
    { "type": "richtext", "id": "text", "label": "Text", "default": "<p>Use this text to share information about your brand with your customers.</p>" },
    { "type": "text", "id": "button_label", "label": "Button label" },
    { "type": "url", "id": "button_link", "label": "Button link" },
    {
      "type": "select", "id": "button_style", "label": "Button style",
      "options": [
        { "value": "primary", "label": "Primary" },
        { "value": "secondary", "label": "Secondary" },
        { "value": "tertiary", "label": "Link" }
      ],
      "default": "primary"
    },
    {
      "type": "select", "id": "content_width", "label": "Content width",
      "options": [
        { "value": "narrow", "label": "Narrow" },
        { "value": "medium", "label": "Medium" },
        { "value": "full", "label": "Full" }
      ],
      "default": "narrow"
    },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color scheme", "default": "scheme-1" },
    { "type": "range", "id": "padding_top", "label": "Top padding", "min": 0, "max": 100, "step": 4, "default": 40, "unit": "px" },
    { "type": "range", "id": "padding_bottom", "label": "Bottom padding", "min": 0, "max": 100, "step": 4, "default": 40, "unit": "px" }
  ],
  "presets": [{ "name": "Rich text" }]
}
{% endschema %}
