<footer class="footer" role="contentinfo">
  <div class="footer__inner page-width">
    <div class="footer__grid">
      <div class="footer__block">
        <p class="footer__store-name">{{ shop.name }}</p>
      </div>
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'menu' -%}
            <div class="footer__block" {{ block.shopify_attributes }}>
              {%- if block.settings.heading != blank -%}
                <h3 class="footer__heading">{{ block.settings.heading }}</h3>
              {%- endif -%}
              {%- if block.settings.menu != blank -%}
                <ul class="footer__links">
                  {%- for link in linklists[block.settings.menu].links -%}
                    <li><a href="{{ link.url }}" class="footer__link">{{ link.title }}</a></li>
                  {%- endfor -%}
                </ul>
              {%- endif -%}
            </div>
          {%- when 'newsletter' -%}
            <div class="footer__block footer__newsletter" {{ block.shopify_attributes }}>
              {%- if block.settings.heading != blank -%}
                <h3 class="footer__heading">{{ block.settings.heading }}</h3>
              {%- endif -%}
              {% form 'customer', class: 'footer__form' %}
                <input type="hidden" name="contact[tags]" value="newsletter">
                <label for="footer-email" class="visually-hidden">Email</label>
                <input type="email" id="footer-email" name="contact[email]" placeholder="Email" required>
                <button type="submit" class="button button--primary">Subscribe</button>
              {% endform %}
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>
    <p class="footer__copy">&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.</p>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "blocks": [
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "link_list", "id": "menu", "label": "Menu" }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "settings": [
        { "type": "text", "id": "heading", "label": "Heading", "default": "Newsletter" }
      ]
    }
  ]
}
{% endschema %}
